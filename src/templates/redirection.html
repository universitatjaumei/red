{% extends "layout.html" %}
{% block head %}
    <title>Redirect UJI</title>
    <script src="{{ url_for('static', filename='components/jquery/dist/jquery.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/redirection.js') }}"></script>
{% endblock %}
{% block body %}
    <div class="header">
        <h1>Redirections</h1>
        <h2>Add/remove redirections</h2>
    </div>
    <div class="content">
      <form name="red" class="pure-form pure-form-stacked" action="/api/red">
        <fieldset>
            <legend style="line-height: 2em; margin-bottom: 1em;">
              <button type="submit" class="button-generate pure-button generate"><img class="spinner-generate" src="{{ url_for('static', filename='img/spinner-generate.gif') }}" /> Generate nginx.conf</button>
              Manage your redirections below, or re-generate the <strong>NGINX</strong> configuration with the button on the right.
              <br style="clear: both;" />
            </legend>
            <div class="pure-g">

              <div class="pure-u-1 pure-u-md-2-5">
                <label style="font-weight: bold;">Domain <span class="domain"></span></label>
                <input class="long" type="text" placeholder="Desired domain name" name="domain" id="domain">
                <label for="domain" id="altdomain" style="display: none;">
                  <input type="checkbox" checked /> Add the <strong>www</strong> site too
                </label>
              </div>

              <div class="pure-u-1 pure-u-md-2-5">
                <label style="font-weight: bold;">Redirect URL</label>
                <input class="long" type="text" placeholder="Redirect URL" name="url">
              </div>

              <div class="pure-u-1 pure-u-md-1-5">
                <label style="color: white; text-align: right;">Action</label>
                <button type="submit" class="pure-button pure-button-primary add right"><img class="spinner-add" src="{{ url_for('static', filename='img/spinner-add.gif') }}" /> Add redirection</button>
              </div>
            </div>
        </fieldset>
      </form>

      <br />
      <table class="pure-table">
        <thead>
            <tr>
                <th>#</th>
                <th>Domain</th>
                <th>Redirect URL</th>
                <th>Date Added</th>
                <th>Action</th>
            </tr>
        </thead>

        <tbody></tbody>
      </table>

      <div class="center">
        <img class="spinner" src="{{ url_for('static', filename='img/spinner.gif') }}" />
      </div>

    </div>
{% endblock %}
